# Dify 使用指南

> **Dify** 是一个开源的智能应用开发平台，主要用于基于大语言模型（如 GPT、Qwen 等）的应用搭建与管理。它支持低代码/零代码开发，可用于对话机器人、文档问答、数据分析等多种场景。

---

## 目录

1. [平台简介](#平台简介)  
2. [主要功能](#主要功能)  
3. [注册与登录](#注册与登录)  
4. [基础设置](#基础设置)  
5. [创建与管理应用](#创建与管理应用)  
6. [知识库管理](#知识库管理)  
7. [Prompt 编排与测试](#prompt-编排与测试)  
8. [团队协作](#团队协作)  
9. [API 调用](#api-调用)  
10. [常见问题与支持](#常见问题与支持)

---

## 平台简介

Dify 允许用户便捷地搭建和部署基于大模型的智能应用，并集成数据知识库、提示词管理、API 服务等功能，适合企业和开发者构建专属的 AI 工具。

![Dify 系统架构图](https://github.com/langgenius/dify/raw/main/docs/architecture.png)

---

## 主要功能

- **应用搭建**：快速创建对话、问答等应用
- **知识库管理**：支持上传文档，构建企业/个人知识库
- **Prompt 设计与测试**：可视化 Prompt 编排
- **模型管理**：支持 GPT、Qwen、Claude 等多种模型
- **API 接入**：应用可被外部系统通过 API 调用
- **团队协作**：多成员管理、权限控制

---

## 注册与登录

1. 访问 [Dify 官网](https://www.dify.ai/) 或本地部署地址。
2. 点击“注册”或“Sign up”，填写邮箱、设置密码。
3. 完成注册后登录平台。

---

## 基础设置

### 1. 个人信息与组织配置

- 在右上角“个人中心”可修改昵称、头像、邮箱等信息。
- 组织管理员可设置组织信息、添加/移除团队成员。

### 2. 接入大模型

- 进入“模型管理”菜单。
- 填写 API Key，如 OpenAI、Qwen、Claude、文心一言等主流大模型服务商。
- 可设置主用模型和备用模型。

---

## 创建与管理应用

### 1. 创建新应用

- 在“应用”页面，点击“新建应用”按钮。
- 填写应用名称、简介、选择模型。
- 选择应用类型：对话机器人/知识问答/API 服务等。

### 2. 配置应用流程

- 配置对话流程、嵌入式知识库、外部数据调用等。
- 设计用户输入与模型输出逻辑。

### 3. 应用测试与发布

- 在测试窗口输入示例问题，检查模型响应。
- 满意后点击“发布”按钮，应用即可上线。

---

## 知识库管理

### 1. 创建知识库

- 在“知识库”模块点击“新建知识库”。
- 设置知识库名称与描述。

### 2. 上传与管理文档

- 支持上传 PDF、Word、TXT 等多种格式。
- 支持批量导入，自动分段与嵌入。

### 3. 数据同步

- 可定期同步本地或云端文件，实现知识库实时更新。

---

## Prompt 编排与测试

### 1. 编写 Prompt

- 支持系统提示（System Prompt）、用户输入、变量等。
- 可通过可视化界面拖拽、编辑 Prompt 结构。

### 2. 调整与优化

- 支持多轮对话、嵌入自定义变量、分支逻辑。
- 支持预设示例，自动化测试不同场景效果。

---

## 团队协作

- 支持邀请团队成员，分配不同角色（管理员、成员、观察者等）。
- 支持应用、知识库等资源的权限分配和协作开发。

---

## API 调用

1. 在应用详情页获取 API Key 和 API 文档链接。
2. 按文档格式调用 RESTful API 接口，实现外部系统与 Dify 应用的数据交互。

```bash
curl -X POST https://api.dify.ai/v1/applications/{app_id}/invoke \
     -H "Authorization: Bearer <Your-API-Key>" \
     -d '{"inputs": {"question": "Dify 是什么？"}}'
